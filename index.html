<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мобильная ОС - Симулятор</title>
    <!-- Подключаем Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Конфигурация Tailwind для использования шрифта Inter -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'os-primary': '#1f2937', // Dark Slate
                        'os-accent': '#3b82f6', // Blue 500
                        'os-bg': '#0f172a', // Darkest Blue
                        'os-card': '#1e293b', // Slightly lighter dark
                    }
                }
            }
        }
    </script>
    <style>
        /* Основной контейнер, имитирующий рамку телефона */
        #phone-frame {
            width: 90vw;
            max-width: 400px;
            height: 90vh;
            max-height: 800px;
            margin: 20px auto;
            background-color: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            border: 8px solid #333;
        }

        /* Имитация выреза ("челки") */
        #notch {
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 25px;
            background-color: #000;
            border-radius: 0 0 15px 15px;
            z-index: 50;
        }

        /* Экран, где отображается контент */
        #screen {
            background-color: #0f172a; /* os-bg */
            width: 100%;
            height: calc(100% - 10px); /* Учитываем padding frame */
            border-radius: 30px;
            overflow: hidden;
            position: relative;
        }

        /* Общие стили для всех экранов/приложений */
        .os-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.3s ease-out;
            transform: translateX(100%);
            display: flex;
            flex-direction: column;
        }
        
        #home-screen {
            transform: translateX(0); /* Домашний экран виден по умолчанию */
            background: linear-gradient(135deg, #1f2937, #0f172a);
        }

        .active-screen {
            transform: translateX(0) !important;
        }

        .app-header {
            background-color: #1e293b; /* os-card */
            border-bottom: 1px solid #334155;
        }

        .app-icon {
            cursor: pointer;
            transition: transform 0.1s ease-in-out;
        }
        .app-icon:hover {
            transform: scale(1.05);
        }

        /* Кнопка "Домой" (Home Bar) */
        #home-bar {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 3px;
            z-index: 60;
            cursor: pointer;
        }
    </style>
    <!-- Иконки Phosphor Icons для эстетики -->
    <script src="https://unpkg.com/@phosphor-icons/web@2.1.1/dist/umd/phosphor.js"></script>
</head>
<body class="bg-gray-800 font-sans flex items-center justify-center min-h-screen">

    <div id="phone-frame">
        <div id="notch"></div>
        <div id="screen">
            
            <!-- 1. ДОМАШНИЙ ЭКРАН -->
            <div id="home-screen" class="os-screen active-screen p-4 text-white">
                
                <!-- 1.1. СТРОКА СОСТОЯНИЯ -->
                <div id="status-bar" class="flex justify-between items-center text-xs pt-4 pb-2">
                    <div id="status-time" class="font-bold text-sm">--:--</div>
                    <div class="flex items-center space-x-1">
                        <!-- Иконка Wi-Fi -->
                        <i class="ph ph-wifi text-base"></i>
                        <!-- Иконка Батареи -->
                        <i class="ph ph-battery-full text-base"></i>
                        <span id="status-battery">100%</span>
                    </div>
                </div>

                <!-- 1.2. Виджет Даты -->
                <div id="date-widget" class="text-center mt-12 mb-16">
                    <div id="current-time-large" class="text-7xl font-light">--:--</div>
                    <div id="current-date" class="text-xl font-medium text-gray-300 mt-2">-- --- ----</div>
                </div>

                <!-- 1.3. СЕТКА ПРИЛОЖЕНИЙ -->
                <div class="grid grid-cols-4 gap-6 p-4 mt-auto">
                    
                    <!-- ИКОНКА: Настройки -->
                    <div class="app-icon flex flex-col items-center" data-app="settings-app">
                        <div class="w-14 h-14 bg-gray-500 rounded-xl flex items-center justify-center shadow-lg">
                            <i class="ph ph-gear-six text-3xl text-white"></i>
                        </div>
                        <span class="mt-1 text-xs text-center">Настройки</span>
                    </div>

                    <!-- ИКОНКА: Браузер -->
                    <div class="app-icon flex flex-col items-center" data-app="browser-app">
                        <div class="w-14 h-14 bg-os-accent rounded-xl flex items-center justify-center shadow-lg">
                            <i class="ph ph-globe text-3xl text-white"></i>
                        </div>
                        <span class="mt-1 text-xs text-center">Браузер</span>
                    </div>
                    
                    <!-- ИКОНКА: Сообщения -->
                    <div class="app-icon flex flex-col items-center">
                        <div class="w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center shadow-lg">
                            <i class="ph ph-chats text-3xl text-white"></i>
                        </div>
                        <span class="mt-1 text-xs text-center">Сообщения</span>
                    </div>

                    <!-- ИКОНКА: Камера -->
                    <div class="app-icon flex flex-col items-center">
                        <div class="w-14 h-14 bg-gray-700 rounded-xl flex items-center justify-center shadow-lg">
                            <i class="ph ph-camera text-3xl text-white"></i>
                        </div>
                        <span class="mt-1 text-xs text-center">Камера</span>
                    </div>

                </div>
            </div>

            <!-- 2. ЭКРАН ПРИЛОЖЕНИЯ: НАСТРОЙКИ -->
            <div id="settings-app" class="os-screen text-white">
                <div class="app-header p-4 text-center">
                    <h1 class="text-xl font-bold">Настройки</h1>
                </div>
                <div class="p-4 space-y-3 flex-grow overflow-y-auto">
                    <div class="bg-os-card p-3 rounded-xl flex items-center justify-between shadow-md">
                        <div class="flex items-center space-x-3">
                            <i class="ph ph-wifi text-os-accent text-xl"></i>
                            <span>Wi-Fi</span>
                        </div>
                        <i class="ph ph-caret-right text-gray-400"></i>
                    </div>
                    <div class="bg-os-card p-3 rounded-xl flex items-center justify-between shadow-md">
                        <div class="flex items-center space-x-3">
                            <i class="ph ph-bluetooth text-os-accent text-xl"></i>
                            <span>Bluetooth</span>
                        </div>
                        <i class="ph ph-caret-right text-gray-400"></i>
                    </div>
                    <div class="bg-os-card p-3 rounded-xl flex items-center justify-between shadow-md">
                        <div class="flex items-center space-x-3">
                            <i class="ph ph-bell text-os-accent text-xl"></i>
                            <span>Уведомления</span>
                        </div>
                        <i class="ph ph-caret-right text-gray-400"></i>
                    </div>
                    <p class="text-gray-400 pt-4 text-center">Версия ОС: MockOS 1.0 (заглушка)</p>
                </div>
            </div>

            <!-- 3. ЭКРАН ПРИЛОЖЕНИЯ: БРАУЗЕР -->
            <div id="browser-app" class="os-screen text-white">
                <div class="app-header p-2 flex items-center justify-between">
                    <i class="ph ph-arrow-left text-xl text-gray-400 cursor-pointer p-2 opacity-0"></i> 
                    <div class="flex-grow mx-2">
                        <input type="text" value="https://mockos.local" class="w-full bg-gray-700 text-white text-sm p-1.5 rounded-full border border-gray-600 focus:outline-none focus:border-os-accent" readonly>
                    </div>
                    <i class="ph ph-dots-three text-xl text-gray-400 p-2 opacity-0"></i>
                </div>
                <div class="p-4 text-center flex-grow flex flex-col items-center justify-center">
                    <i class="ph ph-smiley text-7xl text-gray-500 mb-4"></i>
                    <h2 class="text-2xl font-bold">Добро пожаловать в Мок-Браузер!</h2>
                    <p class="text-gray-400 mt-2">Это симулятор. Реальные сайты здесь не загружаются.</p>
                </div>
                <div class="app-header p-3 flex justify-around text-xl text-gray-400 border-t border-gray-700">
                    <i class="ph ph-caret-left-bold opacity-50"></i>
                    <i class="ph ph-caret-right-bold opacity-50"></i>
                    <i class="ph ph-square"></i>
                    <i class="ph ph-arrow-counter-clockwise"></i>
                </div>
            </div>

        </div>

        <!-- Полоска "Домой" для навигации -->
        <div id="home-bar"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const homeBar = document.getElementById('home-bar');
            const homeScreen = document.getElementById('home-screen');
            const appIcons = document.querySelectorAll('.app-icon[data-app]');
            const screens = document.querySelectorAll('.os-screen');

            let currentScreen = 'home-screen';

            // --- 1. Логика Часов и Даты ---
            const statusTime = document.getElementById('status-time');
            const largeTime = document.getElementById('current-time-large');
            const currentDate = document.getElementById('current-date');
            
            const monthNames = ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"];

            function updateTime() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const day = now.getDate();
                const month = monthNames[now.getMonth()];
                
                const timeString = `${hours}:${minutes}`;
                
                // Обновляем часы в строке состояния и на домашнем экране
                statusTime.textContent = timeString;
                largeTime.textContent = timeString;

                // Обновляем дату
                currentDate.textContent = `${day} ${month}`;
            }

            // Обновляем время сразу и запускаем интервал
            updateTime();
            setInterval(updateTime, 1000);


            // --- 2. Логика Переключения Экранов ---

            // Функция для открытия приложения
            function openApp(appId) {
                // Скрываем текущий экран
                document.getElementById(currentScreen).classList.remove('active-screen');
                
                // Показываем новый экран
                const newScreen = document.getElementById(appId);
                if (newScreen) {
                    newScreen.classList.add('active-screen');
                    currentScreen = appId;
                }
            }

            // Функция для возврата на домашний экран
            function goHome() {
                if (currentScreen !== 'home-screen') {
                    document.getElementById(currentScreen).classList.remove('active-screen');
                    homeScreen.classList.add('active-screen');
                    currentScreen = 'home-screen';
                }
            }

            // Назначаем обработчики кликов на иконки
            appIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    const appId = icon.dataset.app;
                    if (appId) {
                        openApp(appId);
                    } else {
                        // Оповещение для заглушек
                        showMessage('Приложение в разработке!');
                    }
                });
            });

            // Назначаем обработчик клика на Home Bar
            homeBar.addEventListener('click', goHome);

            // --- 3. Имитация сообщений (вместо alert()) ---

            function showMessage(text) {
                let messageBox = document.getElementById('os-message-box');
                if (!messageBox) {
                    messageBox = document.createElement('div');
                    messageBox.id = 'os-message-box';
                    messageBox.className = 'fixed inset-0 flex items-center justify-center z-50 pointer-events-none';
                    document.body.appendChild(messageBox);
                }

                const toast = document.createElement('div');
                toast.textContent = text;
                toast.className = 'bg-os-card text-white p-4 rounded-xl shadow-2xl transition-opacity duration-300 opacity-0 transform translate-y-4 pointer-events-auto';
                
                messageBox.appendChild(toast);

                // Показать
                setTimeout(() => {
                    toast.classList.remove('opacity-0', 'translate-y-4');
                    toast.classList.add('opacity-100', 'translate-y-0');
                }, 10); 

                // Скрыть
                setTimeout(() => {
                    toast.classList.remove('opacity-100', 'translate-y-0');
                    toast.classList.add('opacity-0', 'translate-y-4');
                    // Удалить после анимации
                    setTimeout(() => {
                        toast.remove();
                        if (messageBox.children.length === 0) {
                            messageBox.remove();
                        }
                    }, 300);
                }, 2000);
            }

            // Обработчик нажатия на стрелку в Настройках (имитация Back)
            const backButton = document.querySelector('#settings-app .app-header');
            if (backButton) {
                // Добавляем невидимый элемент для кликабельности, чтобы не трогать заголовок
                const backClickArea = document.createElement('div');
                backClickArea.className = "absolute left-0 top-0 h-full w-1/4 cursor-pointer flex items-center justify-start pl-4";
                backClickArea.innerHTML = '<i class="ph ph-caret-left text-2xl text-white"></i>';
                backClickArea.addEventListener('click', goHome);
                backButton.style.position = 'relative'; // Устанавливаем относительное позиционирование для родителя
                backButton.appendChild(backClickArea);
            }
            
            // Назначаем возврат на Home для браузера (иконка "Назад" - она тут невидимая, но кликнем по всей области)
            const browserHeader = document.querySelector('#browser-app .app-header');
            if (browserHeader) {
                const backArea = document.createElement('div');
                backArea.className = "absolute left-0 top-0 h-full w-1/4 cursor-pointer";
                backArea.addEventListener('click', goHome);
                browserHeader.style.position = 'relative';
                browserHeader.appendChild(backArea);
            }
        });
    </script>
</body>
</html>
